<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleag.org">
<head>
    <link rel="icon" href="/image/logo.png"/>
    <link rel="stylesheet" href="/css/adminpage.css"/>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>관리자페이지</title>
</head>
<body>
<header>
    <a class="width-fit-content center block" href="/">
        <img src="/image/logo.png">
    </a>
    <div id="log-out">
        <p th:utext="${member.memberName}+ ' 관리자님, 반갑습니다!' " id="logout-text"></p>
    </div>

    <div class="width-100p bar">
        <label id="category">관리자 페이지</label>
    </div>
</header>
<div id="members"class="width-100p flex">
    <div id="memberdiv">
        <div class="flex justify-contents-space-between boxes" >
            <div class="small-title" id="first-title">
                <p>회원정보</p>
            </div>
            <div class="flex">
                <button class="btns small-title">회원 삭제</button>
                <button class="btns small-title">관리자로 전환</button>
                <button class="btns small-title">팀 전환</button>
            </div>
        </div>
        <div class="boxes tableDiv">
            <table id="member-table"class="width-98p" >
                <thead>
                <tr>
                    <th><input name="members" value="selectAll" onclick="selectAll(this)" type="checkbox"></th>
                    <th>이름</th>
                    <th>소속 팀</th>
                    <th>회원구분</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="memberList : ${memberList}">
                    <td><input name="members" type="checkbox"></td>
                    <td th:text="${memberList.memberName}">이름</td>
                    <td th:text="${memberList.memberTeamNum}+'팀'">소속팀</td>
                    <td>
                        <span th:if="${memberList.memberType.toString() == 'NORMAL'}">일반</span>
                        <span th:if="${memberList.memberType.toString() == 'ADMIN'}">팀장</span>
                        <span th:if="${memberList.memberType.toString() == 'SUPERADMIN'}">셀</span>
                    </td>

                </tr>
                </tbody>
            </table>
            <button class="show-more-btn center btns">더보기</button>
        </div>
    </div>
    <div id="attendancediv">
        <div class="flex justify-contents-space-between boxes" >
            <div class="small-title" id="first-title">
                <p>나의 팀 출근정보</p>
            </div>
            <div class="flex">
                <button class="btns small-title">회원 삭제</button>
                <button class="btns small-title">관리자로 전환</button>
                <button class="btns small-title">팀 전환</button>
            </div>
        </div>
        <div class="boxes tableDiv">
            <table class="width-98p" >
                <thead>
                <tr>
                    <th>이름</th>
                    <th>소속 팀</th>
                    <th>상태</th>
                    <th>출근 시간</th>
                    <th>퇴근 시간</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="attendanceList : ${attendanceList}">
                    <td th:text="${attendanceList.memberName}">홍길동</td>
                    <td th:text="${attendanceList.memberTeamNum}">1팀</td>
                    <td th:if="${attendanceList.formattedCheckInTime == attendanceList.formattedCheckOutTime}">출근</td>
                    <td th:if="${attendanceList.formattedCheckInTime != attendanceList.formattedCheckOutTime}">퇴근</td>
                    <td th:text="${attendanceList.formattedCheckInTime}">17:00:00</td>
                    <td th:if="${attendanceList.formattedCheckInTime == attendanceList.formattedCheckOutTime}">--:--:--</td>
                    <td th:if="${attendanceList.formattedCheckInTime != attendanceList.formattedCheckOutTime}" th:text="${attendanceList.formattedCheckOutTime}"></td>
                </tr>
                </tbody>

            </table>
        </div>
    </div>

</div>
<div class="width-98p center">
    <div class="flex justify-contents-space-between boxes" >
        <div class="small-title" id="first-title">
            <p>회원정보</p>
        </div>
        <div class="flex">
            <button id="noWork-YesBtn" class="btns small-title">승인</button>
            <button id="noWork-NoBtn" class="btns small-title">거절</button>
        </div>
    </div>
    <div id="noWorks-div">
        <div class="boxes tableDiv">
            <table class="width-98p" >
                <thead>
                <tr>
                    <th><input name="noWorks" value="selectAll" onclick="selectAll(this)" type="checkbox"></th>
                    <th>처리상태</th>
                    <th>작성날짜</th>
                    <th>이름</th>
                    <th>소속 팀</th>
                    <th>범주</th>
                    <th>세부 내용</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td><input name="noWorks" type="checkbox"></td>
                    <td>승인완료</td>
                    <td>10월 1일</td>
                    <td>홍길동</td>
                    <td>1팀</td>
                    <td>알바</td>
                    <td>사장님이 빵꾸났다고 인원요청하셔서 갑니다 ㅠㅠㅠㅠㅁㅇㄴㄴㄴㄴㄴㄴㄴㄴㄴㄴㄴㄴㄴㄴㄴㅁㄴㅇㅁㅂㄴㅈㅇ니ㅏㄹ훔ㅇ나ㅣ/ㅇㄹ허ㅜㅏㅣ'ㅇㄴ;러ㅏㅣ';ㄴㅜㅠ ....</td>
                </tr>


                </tbody>

            </table>
            <button class="show-more-btn center btns">더보기</button>
        </div>
    </div>
</div>
</body>
<script src="/js/adminpage.js"></script>
<script type="application/javascript" th:inline="javascript">

    let member = [[${member}]];
    let noWorkList = [[${noWorkList}]];
    let memberList = [[${memberList}]];
    let attendanceList = [[${attendanceList}]];
    console.log(noWorkList);
    console.log(memberList);
    console.log(attendanceList);
</script>

</html>